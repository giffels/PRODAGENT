
# Define a job to test some features of a repacker executable.
# Note that this is in many ways trivial compared to what the
# final repacker executable will need to be.

# This reads a single streamer file as input and then outputs
# 50 files using 50 PoolOutputModules.  Each output module
# selects events based on a bit in the triggerResults object
# in the input file.

# Original author   W. David Dagenhart   29 March 2007
# Converted to RepackerInjector template by kss 05/10/2007

process REPACKER = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  untracked PSet options = 
  {
    untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
  }
  
  source = NewEventStreamFileReader
  {
    
    untracked vstring fileNames = {
      'testRandomFilter.dat'
    }
    int32 max_event_size = 7000000
    int32 max_queue_depth = 5
  }
  
  module out1 = PoolOutputModule
  {
    untracked string fileName = "p1.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p1:HLT" }
    }
    untracked PSet dataset ={
      untracked string dataTier = "RAW"
    }
  }


  endpath o = { out1
              }
}
