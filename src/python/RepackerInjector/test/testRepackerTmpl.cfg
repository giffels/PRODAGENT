#
# Configuration template for RepackerInjector
#
# Currently only converts from STREAMER type to EDM type
# Working in CMSSW_1_4_x
#

process REPACKER = {

  untracked PSet configurationMetadata = {
        untracked string version = "$Revision: 1.2 $"
        untracked string name = "$Source: /cvs/CMSSW/COMP/PRODAGENT/src/python/RepackerInjector/test/testRepackerTmpl.cfg"
        untracked string annotation = "configuration template for RepackerInjector"
    }

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  untracked PSet options = {
	untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
  }
  
  source = NewEventStreamFileReader
  {
    untracked vstring fileNames = {
      'testRandomFilter.dat'
    }
    int32 max_event_size = 7000000
    int32 max_queue_depth = 5
  }
  
  module RAW = PoolOutputModule
  {
    untracked string fileName = "p1.root"
    untracked PSet dataset = {
    	untracked string dataTier = "RAW"
    }
  }


  module lumi = LumiProd {

    # The name is the letters "LB" followed by the actual number of
    # the luminosity block.  There is only one of these here, but
    # just add more to extend this to handle the case of multiple
    # luminosity blocks in the job.
    untracked PSet LB123456 = {

      untracked double avglumi = 0.0
      untracked double avglumierr = 0.0
      untracked double preavglumi = 0.0
      untracked double preavglumierr = 0.0

      untracked int32 lumisecqual = 0
      untracked double livefrac = 0.0
      untracked int32 lsnumber = 0

      untracked vint32 l1ratecounter = {
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0
      }
      untracked vint32 l1scaler = {
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0
      }
      untracked vint32 hltratecounter = {
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0
      }
      untracked vint32 hltscaler = {
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0
      }

      untracked vdouble lumietsum = {
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
      }
      untracked vdouble lumietsumerr = {
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
      }
      untracked vdouble lumietsumqual = {
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
      }
      untracked vdouble lumiocc = {
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
      }
      untracked vdouble lumioccerr = {
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
      }
      untracked vdouble lumioccqual = {
        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0
      }
    }

  }

  endpath o = { RAW }
}
