#
# Configuration template for RepackerInjector
#
# Currently only converts from STREAMER type to EDM type
# Working in CMSSW_1_4_x
#

process REPACKER = {

  untracked PSet configurationMetadata = {
        untracked string version = "$Revision: 1.8 $"
        untracked string name = "$Source: /cvs/CMSSW/COMP/PRODAGENT/src/python/RepackerInjector/test/testRepackerTmpl.cfg"
        untracked string annotation = "configuration template for RepackerInjector"
    }

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  untracked PSet options = {
	untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
  }
  
  source = NewEventStreamFileReader
  {
    untracked vstring fileNames = {
      'testRandomFilter.dat'
    }
    int32 max_event_size = 7000000
    int32 max_queue_depth = 5
  }
  
  module RAW = PoolOutputModule
  {
    untracked string fileName = "p1.root"
    untracked PSet dataset = {
    	untracked string dataTier = "RAW"
    }
  }

  module lumiProducer = LumiProducer {

    # The name is the letters "LS" followed by the actual number of
    # the luminosity block.  There is only one of these here, but
    # just add more to extend this to handle the case of multiple
    # luminosity blocks in the job.
    untracked PSet LS123456 = {

      untracked double avginslumi = -9.999
      untracked double avginslumierr = -9.999

      # These two below were removed by Valerie request
      # untracked double preavglumi = -9.999
      # untracked double preavglumierr = -9.999

      untracked int32 lumisecqual = -9.999
      untracked double deadfrac = -9.999
      untracked int32 lsnumber = -9.999

      untracked vint32 l1ratecounter = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vint32 l1scaler = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vint32 hltratecounter = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vint32 hltscaler = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vint32 hltinput = {
        50, 51, 52, 53, 54
      }


      untracked vdouble lumietsum = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vdouble lumietsumerr = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vint32 lumietsumqual = {
        300, 301, 302, 303, 304
      }
      untracked vdouble lumiocc = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vdouble lumioccerr = {
        -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999, -9.999
      }
      untracked vint32 lumioccqual = {
        600, 601, 602, 603, 604
      }
    }

  }

  path p = { lumiProducer }

  endpath o = { RAW }
}

